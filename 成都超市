-- 这个范围没有限制
-- zy

local old
old = hookmetamethod(game:GetService("StarterGui"), "__namecall", newcclosure(function(self, ...)
        local method = getnamecallmethod()
        local args = {...}
        if method == "SetCore" and args[1] == "SendNotification" then
            local options = args[2]
            if type(options) == "table" and 
               tostring(options.Title) == "GG脚本" and 
               tostring(options.Text) == "秦始皇制作" 
            then
                local modifiedOptions = table.clone(options)
                modifiedOptions.Text = "1"
            end
        end
     return old(self, ...)
end))

local main = require(game:GetService("ReplicatedStorage").Util.CameraShaker.Main)
local returnnil = function() return nil end

main.StartShake = returnnil
main.ShakeOnce = returnnil
main.ShakeSustain = returnnil
main.CameraShakeInstance = returnnil
main.Shake = returnnil
main.Start = returnnil

game:GetService("StarterGui"):SetCore("SendNotification",{
	Title = "GG脚本",
	Text = "秦始皇制作",
	Duration = 5;
})
wait(0.1)

-- ============================================
-- 核心变量
-- ============================================

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera 
local workspace = game:GetService("Workspace")  
local Player = Players.LocalPlayer  

-- ============================================
-- UI库（保持不变）
-- ============================================

local library = {_Tabs = {}, _Pages = {}}
local services = setmetatable({}, {__index = function(_, k) return game:GetService(k) end})
local ts, uis, players = services.TweenService, services.UserInputService, services.Players
local lp = players.LocalPlayer
local playerGui = lp:WaitForChild("PlayerGui", 15) or game:GetService("CoreGui")

function library:AddDrag(obj)
    local dragging = false
    local dragStart, startPos
    
    obj.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = obj.Position
        end
    end)
    
    uis.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local delta = input.Position - dragStart
            obj.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
    
    uis.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
end

function library.new(name)
    local sg = Instance.new("ScreenGui")
    sg.Name = "GG_Center_UI"
    sg.ResetOnSpawn = false
    sg.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    sg.Parent = playerGui

    local Main = Instance.new("Frame", sg)
    Main.Name = "MainWindow"
    Main.Size = UDim2.new(0, 450, 0, 380)
    Main.Position = UDim2.new(0.5, -225, 0.5, -190)
    Main.BackgroundColor3 = Color3.fromRGB(15, 17, 22)
    Main.Visible = false
    Main.ClipsDescendants = true
    Instance.new("UICorner", Main)
    library:AddDrag(Main)
    library.Main = Main

    local TitleBar = Instance.new("Frame", Main)
    TitleBar.Name = "TitleBar"
    TitleBar.Size = UDim2.new(1, 0, 0, 30)
    TitleBar.BackgroundColor3 = Color3.fromRGB(10, 12, 15)
    Instance.new("UICorner", TitleBar)
    
    local TitleLabel = Instance.new("TextLabel", TitleBar)
    TitleLabel.Size = UDim2.new(1, -10, 1, 0)
    TitleLabel.Position = UDim2.new(0, 10, 0, 0)
    TitleLabel.Text = name
    TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    TitleLabel.BackgroundTransparency = 1
    TitleLabel.Font = Enum.Font.GothamSemibold
    TitleLabel.TextSize = 14

    local ToggleBtn = Instance.new("TextButton", sg)
    ToggleBtn.Name = "ToggleButton"
    ToggleBtn.Size = UDim2.new(0, 50, 0, 50)
    ToggleBtn.Position = UDim2.new(0, 15, 0.1, 0)
    ToggleBtn.BackgroundColor3 = Color3.fromRGB(10, 10, 15)
    ToggleBtn.Text = "GG"
    ToggleBtn.TextColor3 = Color3.fromRGB(0, 255, 255)
    ToggleBtn.TextSize = 20
    ToggleBtn.ZIndex = 10
    Instance.new("UICorner", ToggleBtn).CornerRadius = UDim.new(1, 0)
    Instance.new("UIStroke", ToggleBtn).Color = Color3.fromRGB(0, 255, 255)
    library:AddDrag(ToggleBtn)

    ToggleBtn.MouseButton1Click:Connect(function()
        Main.Visible = not Main.Visible
    end)

    return library
end

function library:CreateTab(name)
    local SideBar = self.Main:FindFirstChild("SideBar") or Instance.new("Frame", self.Main)
    
    if SideBar.Name ~= "SideBar" then
        SideBar.Name = "SideBar"
        SideBar.Size = UDim2.new(0, 100, 1, -30)
        SideBar.Position = UDim2.new(0, 0, 0, 30)
        SideBar.BackgroundColor3 = Color3.fromRGB(10, 12, 15)
        
        local layout = Instance.new("UIListLayout", SideBar)
        layout.Padding = UDim.new(0, 5)
        layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    end

    local ContentPage = Instance.new("ScrollingFrame", self.Main)
    ContentPage.Name = name .. "_Page"
    ContentPage.Size = UDim2.new(1, -105, 1, -35)
    ContentPage.Position = UDim2.new(0, 105, 0, 35)
    ContentPage.BackgroundTransparency = 1
    ContentPage.Visible = false
    ContentPage.ScrollBarThickness = 3
    ContentPage.ScrollBarImageColor3 = Color3.fromRGB(0, 255, 200)
    ContentPage.AutomaticCanvasSize = Enum.AutomaticSize.Y
    
    local pageLayout = Instance.new("UIListLayout", ContentPage)
    pageLayout.Padding = UDim.new(0, 5)
    pageLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center

    local TabBtn = Instance.new("TextButton", SideBar)
    TabBtn.Name = "Tab_" .. name
    TabBtn.Size = UDim2.new(0.9, 0, 0, 35)
    TabBtn.Text = name
    TabBtn.TextColor3 = Color3.fromRGB(150, 150, 150)
    TabBtn.BackgroundColor3 = Color3.fromRGB(20, 23, 28)
    TabBtn.Font = Enum.Font.GothamSemibold
    TabBtn.TextSize = 12
    Instance.new("UICorner", TabBtn)

    TabBtn.MouseButton1Click:Connect(function()
        for _, p in pairs(self._Pages) do 
            p.Visible = false 
        end
        ContentPage.Visible = true
        
        for _, btn in pairs(SideBar:GetChildren()) do
            if btn:IsA("TextButton") and btn.Name:find("Tab_") then
                if btn == TabBtn then
                    btn.BackgroundColor3 = Color3.fromRGB(30, 35, 45)
                    btn.TextColor3 = Color3.fromRGB(0, 255, 200)
                else
                    btn.BackgroundColor3 = Color3.fromRGB(20, 23, 28)
                    btn.TextColor3 = Color3.fromRGB(150, 150, 150)
                end
            end
        end
    end)

    table.insert(self._Pages, ContentPage)
    
    if #self._Pages == 1 then 
        ContentPage.Visible = true 
        TabBtn.BackgroundColor3 = Color3.fromRGB(30, 35, 45)
        TabBtn.TextColor3 = Color3.fromRGB(0, 255, 200)
    end
    
    return ContentPage
end

-- UI元素创建函数
local function CreateButton(parent, text, callback)
    local btn = Instance.new("TextButton", parent)
    btn.Size = UDim2.new(0.95, 0, 0, 35)
    btn.Text = text
    btn.BackgroundColor3 = Color3.fromRGB(30, 35, 45)
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.AutoButtonColor = true
    Instance.new("UICorner", btn)
    
    if callback then
        btn.MouseButton1Click:Connect(callback)
    end
    
    return btn
end

local function CreateToggle(parent, text, default, callback)
    local container = Instance.new("Frame", parent)
    container.Size = UDim2.new(0.95, 0, 0, 30)
    container.BackgroundTransparency = 1
    
    local label = Instance.new("TextLabel", container)
    label.Size = UDim2.new(0.7, 0, 1, 0)
    label.Text = text
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.BackgroundTransparency = 1
    label.Font = Enum.Font.Gotham
    label.TextSize = 12
    
    local toggleFrame = Instance.new("TextButton", container)
    toggleFrame.Size = UDim2.new(0, 45, 0, 22)
    toggleFrame.Position = UDim2.new(1, -45, 0.5, -11)
    toggleFrame.Text = ""
    toggleFrame.BackgroundColor3 = default and Color3.fromRGB(0, 100, 80) or Color3.fromRGB(50, 50, 50)
    toggleFrame.AutoButtonColor = false
    Instance.new("UICorner", toggleFrame).CornerRadius = UDim.new(1, 0)
    
    local toggleCircle = Instance.new("Frame", toggleFrame)
    toggleCircle.Size = UDim2.new(0, 18, 0, 18)
    toggleCircle.Position = default and UDim2.new(1, -20, 0.5, -9) or UDim2.new(0, 2, 0.5, -9)
    toggleCircle.BackgroundColor3 = default and Color3.fromRGB(0, 255, 200) or Color3.fromRGB(255, 255, 255)
    Instance.new("UICorner", toggleCircle).CornerRadius = UDim.new(1, 0)
    
    local toggled = default or false
    
    local function updateToggle()
        if toggled then
            toggleCircle.Position = UDim2.new(1, -20, 0.5, -9)
            toggleCircle.BackgroundColor3 = Color3.fromRGB(0, 255, 200)
            toggleFrame.BackgroundColor3 = Color3.fromRGB(0, 100, 80)
        else
            toggleCircle.Position = UDim2.new(0, 2, 0.5, -9)
            toggleCircle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            toggleFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
        end
        if callback then callback(toggled) end
    end
    
    toggleFrame.MouseButton1Click:Connect(function()
        toggled = not toggled
        updateToggle()
    end)
    
    updateToggle()
    return container
end

local function CreateLabel(parent, text)
    local label = Instance.new("TextLabel", parent)
    label.Size = UDim2.new(0.95, 0, 0, 25)
    label.Text = text
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.BackgroundTransparency = 1
    label.Font = Enum.Font.GothamSemibold
    label.TextSize = 13
    
    return label
end

local function CreateSlider(parent, text, min, max, default, callback)
    local container = Instance.new("Frame", parent)
    container.Size = UDim2.new(0.95, 0, 0, 50)
    container.BackgroundTransparency = 1
    
    local label = Instance.new("TextLabel", container)
    label.Size = UDim2.new(1, 0, 0, 20)
    label.Text = text .. ": " .. tostring(default)
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.BackgroundTransparency = 1
    label.Font = Enum.Font.Gotham
    label.TextSize = 12
    
    local sliderBg = Instance.new("Frame", container)
    sliderBg.Name = "SliderBG"
    sliderBg.Size = UDim2.new(1, 0, 0, 6)
    sliderBg.Position = UDim2.new(0, 0, 0, 25)
    sliderBg.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
    Instance.new("UICorner", sliderBg).CornerRadius = UDim.new(1, 0)
    
    local sliderFill = Instance.new("Frame", sliderBg)
    sliderFill.Name = "SliderFill"
    sliderFill.Size = UDim2.new((default - min) / (max - min), 0, 1, 0)
    sliderFill.BackgroundColor3 = Color3.fromRGB(0, 255, 200)
    Instance.new("UICorner", sliderFill).CornerRadius = UDim.new(1, 0)
    
    local sliderBtn = Instance.new("TextButton", sliderBg)
    sliderBtn.Name = "SliderButton"
    sliderBtn.Size = UDim2.new(0, 18, 0, 18)
    sliderBtn.Position = UDim2.new((default - min) / (max - min), -9, 0.5, -9)
    sliderBtn.Text = ""
    sliderBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    sliderBtn.AutoButtonColor = false
    sliderBtn.ZIndex = 2
    Instance.new("UICorner", sliderBtn).CornerRadius = UDim.new(1, 0)
    
    local dragging = false
    
    local function updateSlider(value)
        local percent = math.clamp((value - min) / (max - min), 0, 1)
        sliderFill.Size = UDim2.new(percent, 0, 1, 0)
        sliderBtn.Position = UDim2.new(percent, -9, 0.5, -9)
        label.Text = text .. ": " .. tostring(math.floor(value))
        if callback then callback(math.floor(value)) end
    end
    
    sliderBtn.MouseButton1Down:Connect(function()
        dragging = true
    end)
    
    sliderBg.MouseButton1Down:Connect(function(x, y)
        local mousePos = Vector2.new(x, y)
        local sliderPos = sliderBg.AbsolutePosition
        local sliderSize = sliderBg.AbsoluteSize.X
        
        local percent = math.clamp((mousePos.X - sliderPos.X) / sliderSize, 0, 1)
        local value = min + (max - min) * percent
        value = math.floor(value)
        updateSlider(value)
    end)
    
    uis.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local mousePos = uis:GetMouseLocation()
            local sliderPos = sliderBg.AbsolutePosition
            local sliderSize = sliderBg.AbsoluteSize.X
            
            local percent = math.clamp((mousePos.X - sliderPos.X) / sliderSize, 0, 1)
            local value = min + (max - min) * percent
            value = math.floor(value)
            updateSlider(value)
        end
    end)
    
    uis.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
    
    updateSlider(default)
    return container
end

local function CreateTextbox(parent, labelText, placeholder, callback)
    local container = Instance.new("Frame", parent)
    container.Size = UDim2.new(0.95, 0, 0, 50)
    container.BackgroundTransparency = 1
    
    local label = Instance.new("TextLabel", container)
    label.Size = UDim2.new(1, 0, 0, 20)
    label.Text = labelText
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.BackgroundTransparency = 1
    label.Font = Enum.Font.Gotham
    label.TextSize = 12
    
    local textbox = Instance.new("TextBox", container)
    textbox.Size = UDim2.new(1, 0, 0, 25)
    textbox.Position = UDim2.new(0, 0, 0, 20)
    textbox.PlaceholderText = placeholder or "請輸入數值"
    textbox.BackgroundColor3 = Color3.fromRGB(30, 35, 45)
    textbox.TextColor3 = Color3.fromRGB(255, 255, 255)
    textbox.Font = Enum.Font.Gotham
    textbox.TextSize = 12
    Instance.new("UICorner", textbox)
    
    textbox.FocusLost:Connect(function()
        if callback then
            callback(textbox.Text)
        end
    end)
    
    return container
end

-- ============================================
-- 创建主窗口和选项卡
-- ============================================

local window = library.new("GG中心")

local UITab1 = window:CreateTab("公告")
local UITab2 = window:CreateTab("脚本")
local UITab3 = window:CreateTab("秒杀")
local UITab4 = window:CreateTab("透视")
local UITab5 = window:CreateTab("传送")

-- ============================================
-- 添加完整的原代码功能
-- ============================================

-- 1. 公告页面
CreateLabel(UITab1, "秦始皇制作")
CreateLabel(UITab1, "脚本测试中")

-- 2. 脚本页面 - 完整功能
CreateSlider(UITab2, "视角缩放距离", 128, 10000, 128, function(Value)
    game:GetService("Players").LocalPlayer.CameraMaxZoomDistance = Value
end)

-- 自动v4功能
local toggleKey = "自动v4"
local autoV4Task = nil

local function getToggleState(key)
    if not _G.ToggleStates then _G.ToggleStates = {} end
    return _G.ToggleStates[key] or false
end

local function callAwakeningRemote()
    local Backpack = LocalPlayer:FindFirstChild("Backpack")
    if not Backpack then return end
    
    local Awakening = Backpack:FindFirstChild("Awakening")
    if not Awakening then return end
    
    local RemoteFunc = Awakening:FindFirstChild("RemoteFunction")
    if not RemoteFunc or not RemoteFunc:IsA("RemoteFunction") then return end
    
    local success, err = pcall(function()
        RemoteFunc:InvokeServer(true)
    end)
    if not success then
        warn("自动v4调用失败：", err)
    end
end

local function toggleAutoV4(enable)
    if autoV4Task then
        task.cancel(autoV4Task)
        autoV4Task = nil
    end
    
    if enable then
        autoV4Task = task.spawn(function()
            while getToggleState(toggleKey) do
                callAwakeningRemote()
                task.wait(1) 
            end
            autoV4Task = nil
        end)
    end
end

CreateToggle(UITab2, "自动v4", false, function(IsEnabled)
    if not _G.ToggleStates then _G.ToggleStates = {} end
    _G.ToggleStates[toggleKey] = IsEnabled
    toggleAutoV4(IsEnabled)
end)

-- 飞行
CreateButton(UITab2, "飞行", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/iqiq180jash-afk/Xuan/main/%E9%A3%9B%E8%A1%8C"))()
end)

-- 法天象地
CreateButton(UITab2, "法天象地", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/xiaoxuan-77/-/refs/heads/main/法天像地"))()
end)

-- redz
CreateButton(UITab2, "redz", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/xiaoxuan-77/-/refs/heads/main/redz"))()
end)

-- 皮脚本
CreateButton(UITab2, "皮脚本", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/xiaoxuan-77/-/refs/heads/main/皮"))()
end)

-- 防挂机
local VirtualUser = game:GetService("VirtualUser")
game:GetService("Players").LocalPlayer.Idled:Connect(function()
    VirtualUser:CaptureController()
    VirtualUser:ClickButton2(Vector2.new(0,0))
    print("GG脚本 | 已攔截掛機檢測，持續運行中...")
end)

CreateButton(UITab2, "fps优化（关闭不了一点傻逼）", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/xiaoxuan-77/-/refs/heads/main/fps优化"))()
end)

CreateButton(UITab2, "hoho", function()
    loadstring(game:HttpGet('https://raw.githubusercontent.com/acsu123/HOHO_H/main/Loading_UI'))()
end)

-- 3. 秒杀页面 - 完整功能
CreateLabel(UITab3, "秒杀设置")

-- 秒杀系统变量
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local workspace = game:GetService("Workspace")
local _ENV = (getgenv or getrenv or getfenv)()
local Settings = {AutoClick = true, ClickDelay = 0.3}
Settings.Distance = 5000
local Module = {}
local _G = _G or getfenv(0)._G
_G.FastAttack = _G.FastAttack ~= nil and _G.FastAttack or true

-- 初始化秒杀系统
Module.FastAttack = (function()
    if _ENV.rz_FastAttack then return _ENV.rz_FastAttack end
    local FastAttack = {
        Distance = 10000,
        attackMobs = true,
        attackPlayers = true,
        Equipped = nil,
        IsRunning = _G.FastAttack,
        consecutiveFailures = 0,
        maxConsecutiveFailures = 5
    }
    _ENV.rz_FastAttack = FastAttack
    return FastAttack
end)()

CreateToggle(UITab3, "开关", _G.FastAttack, function(state)
    if _ENV.rz_FastAttack then
        _ENV.rz_FastAttack.IsRunning = state
        _G.FastAttack = state
    end
end)

CreateTextbox(UITab3, "范围", "10000", function(text)
    local num = tonumber(text) or 10000
    num = math.floor(math.clamp(num, 1, 10000))
    if _ENV.rz_FastAttack then
        _ENV.rz_FastAttack.Distance = num
    end
end)

CreateTextbox(UITab3, "攻速", "0.1", function(text)
    local num = tonumber(text) or 0.1
    num = math.round(math.clamp(num, 0.01, 2) * 100) / 100
    Settings.ClickDelay = num
end)

CreateToggle(UITab3, "打怪", true, function(state)
    if _ENV.rz_FastAttack then
        _ENV.rz_FastAttack.attackMobs = state
    end
end)

CreateToggle(UITab3, "打人", true, function(state)
    if _ENV.rz_FastAttack then
        _ENV.rz_FastAttack.attackPlayers = state
    end
end)

-- 移速功能
CreateTextbox(UITab3, "速度", "請輸入數值", function(Value)
    local speed = tonumber(Value)
    if speed then
        getfenv().translateSpeed = speed
    end
end)

CreateToggle(UITab3, "加速开关", false, function(State)
    getfenv().translateAccelEnabled = State
    
    if getfenv().sudu then
        getfenv().sudu:Disconnect()
        getfenv().sudu = nil
    end
    
    if State then
        getfenv().translateConnection = game:GetService("RunService").Heartbeat:Connect(function()
            if game:GetService("Players").LocalPlayer.Character and 
               game:GetService("Players").LocalPlayer.Character.Humanoid and 
               game:GetService("Players").LocalPlayer.Character.Humanoid.Parent then
               
                local humanoid = game:GetService("Players").LocalPlayer.Character.Humanoid
                
                if humanoid.MoveDirection.Magnitude > 0 then
                    local moveDirection = humanoid.MoveDirection
                    local acceleration = moveDirection * (getfenv().translateSpeed or 50) / 30
                    
                    game:GetService("Players").LocalPlayer.Character:TranslateBy(acceleration)
                end
            end
        end)
    else
        if getfenv().translateConnection then
            getfenv().translateConnection:Disconnect()
            getfenv().translateConnection = nil
        end
    end
end)

-- 4. 透视页面 - 完整功能
CreateLabel(UITab4, "透视设置")

local ESPConfig = {
    MainSwitch = false,     
    ShowNameDistance = false, 
    ShowTracer = false,       
    ShowHealth = false        
}

local ESPElements = {}

local function CleanupPlayerESP(player)
    if not ESPElements[player.UserId] then return end
    
    if ESPElements[player.UserId].Highlight then
        ESPElements[player.UserId].Highlight:Destroy()
        ESPElements[player.UserId].Highlight = nil
    end
    
    if ESPElements[player.UserId].Billboard then
        ESPElements[player.UserId].Billboard:Destroy()
        ESPElements[player.UserId].Billboard = nil
    end
end

local function UpdateAllESP()
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            CleanupPlayerESP(player)
            
            if ESPConfig.MainSwitch and player.Character then
                -- 高亮效果
                local highlight = Instance.new("Highlight")
                highlight.FillColor = Color3.fromRGB(255, 0, 0)
                highlight.OutlineColor = Color3.fromRGB(255, 255, 0)
                highlight.FillTransparency = 0.5
                highlight.Parent = player.Character
                
                ESPElements[player.UserId] = ESPElements[player.UserId] or {}
                ESPElements[player.UserId].Highlight = highlight
                
                -- 显示信息
                if (ESPConfig.ShowNameDistance or ESPConfig.ShowHealth) and player.Character:FindFirstChild("Head") then
                    local billboard = Instance.new("BillboardGui")
                    billboard.Size = UDim2.new(0, 200, 0, 50)
                    billboard.StudsOffset = Vector3.new(0, 3, 0)
                    billboard.AlwaysOnTop = true
                    billboard.Adornee = player.Character.Head
                    billboard.Parent = player.Character.Head
                    
                    local nameLabel = Instance.new("TextLabel", billboard)
                    nameLabel.Size = UDim2.new(1, 0, 0.5, 0)
                    nameLabel.Text = player.Name
                    nameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
                    nameLabel.BackgroundTransparency = 1
                    nameLabel.Font = Enum.Font.GothamBold
                    
                    if ESPConfig.ShowHealth and player.Character:FindFirstChild("Humanoid") then
                        local healthLabel = Instance.new("TextLabel", billboard)
                        healthLabel.Size = UDim2.new(1, 0, 0.5, 0)
                        healthLabel.Position = UDim2.new(0, 0, 0.5, 0)
                        local humanoid = player.Character.Humanoid
                        healthLabel.Text = "血量: " .. math.floor(humanoid.Health) .. "/" .. math.floor(humanoid.MaxHealth)
                        healthLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
                        healthLabel.BackgroundTransparency = 1
                        healthLabel.Font = Enum.Font.Gotham
                    end
                    
                    ESPElements[player.UserId].Billboard = billboard
                end
            end
        end
    end
end

Players.PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function()
        task.wait(0.5)
        UpdateAllESP()
    end)
    
    player.CharacterRemoving:Connect(function()
        CleanupPlayerESP(player)
    end)
end)

CreateToggle(UITab4, "透视总开关", false, function(enabled)
    ESPConfig.MainSwitch = enabled
    UpdateAllESP()
end)

CreateToggle(UITab4, "显示玩家名字+距离", false, function(enabled)
    ESPConfig.ShowNameDistance = enabled
    UpdateAllESP()
end)

CreateToggle(UITab4, "显示玩家血量", false, function(enabled)
    ESPConfig.ShowHealth = enabled
    UpdateAllESP()
end)

CreateToggle(UITab4, "射线追踪（屏幕中心）", false, function(enabled)
    ESPConfig.ShowTracer = enabled
end)

-- 5. 传送页面 - 完整功能
CreateLabel(UITab5, "主要传送")

CreateButton(UITab5, "传送至一海", function()
    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("TravelMain")
end)

CreateButton(UITab5, "传送至二海", function()
    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("TravelDressrosa")
end)

CreateButton(UITab5, "传送至三海", function()
    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("TravelZou")
end)

CreateLabel(UITab5, "二海传送点")

CreateButton(UITab5, "传送至天鹅的房间", function()
    local player = Players.LocalPlayer
    local targetPosition = Vector3.new(-287.37, 305.81, 592.98)
    
    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        player.Character.HumanoidRootPart.CFrame = CFrame.new(targetPosition)
    end
end)

CreateButton(UITab5, "传送至豪宅", function()
    local player = Players.LocalPlayer
    local targetPosition = Vector3.new(2286.93, 15.06, 910.51)
    
    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        player.Character.HumanoidRootPart.CFrame = CFrame.new(targetPosition)
    end
end)

CreateButton(UITab5, "传送至鬼船里", function()
    local player = Players.LocalPlayer
    local targetPosition = Vector3.new(-6501.06, 83.11, -123.52)
    
    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        player.Character.HumanoidRootPart.CFrame = CFrame.new(targetPosition)
    end
end)

CreateButton(UITab5, "传送至鬼船外", function()
    local player = Players.LocalPlayer
    local targetPosition = Vector3.new(922.78, 123.96, 32842.40)
    
    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        player.Character.HumanoidRootPart.CFrame = CFrame.new(targetPosition)
    end
end)

CreateLabel(UITab5, "三海传送点")

CreateButton(UITab5, "传送至海洋城堡", function()
    local player = Players.LocalPlayer
    local targetPosition = Vector3.new(-12463.60, 376.26, -7566.08)
    
    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        player.Character.HumanoidRootPart.CFrame = CFrame.new(targetPosition)
    end
end)

CreateButton(UITab5, "传送至海龟豪宅", function()
    local player = Players.LocalPlayer
    local targetPosition = Vector3.new(-5060.41, 316.43, -3192.30)
    
    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        player.Character.HumanoidRootPart.CFrame = CFrame.new(targetPosition)
    end
end)

CreateButton(UITab5, "传送至司法", function()
    local player = Players.LocalPlayer
    local targetPosition = Vector3.new(-5096.48, 316.43, -3177.91)
    
    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        player.Character.HumanoidRootPart.CFrame = CFrame.new(targetPosition)
    end
end)

CreateButton(UITab5, "传送至九头蛇", function()
    local player = Players.LocalPlayer
    local targetPosition = Vector3.new(-5027.03, 316.43, -3206.07)
    
    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        player.Character.HumanoidRootPart.CFrame = CFrame.new(targetPosition)
    end
end)

-- ============================================
-- 完成加载
-- ============================================

task.wait(1)

game:GetService("StarterGui"):SetCore("SendNotification",{
	Title = "GG脚本",
	Text = "加载完成 祝您使用愉快",
	Duration = 5;
})

print("=========================================")
print("GG脚本完全加载完成！")
print("所有功能已添加：")
print("1. 公告页面 - 基本信息")
print("2. 脚本页面 - 视角缩放、自动V4、飞行等")
print("3. 秒杀页面 - 完整秒杀系统")
print("4. 透视页面 - 完整透视功能")
print("5. 传送页面 - 所有传送点")
print("=========================================")
