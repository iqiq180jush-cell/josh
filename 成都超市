-- 防閒置檢測
local VirtualUser = game:GetService("VirtualUser")
game:GetService("Players").LocalPlayer.Idled:Connect(function()
    VirtualUser:CaptureController()
    VirtualUser:ClickButton2(Vector2.new(0,0))
end)

-- 禁用相機震動
local main = require(game:GetService("ReplicatedStorage").Util.CameraShaker.Main)
local returnnil = function() return nil end
main.StartShake = returnnil
main.ShakeOnce = returnnil
main.ShakeSustain = returnnil
main.CameraShakeInstance = returnnil
main.Shake = returnnil
main.Start = returnnil

-- UI庫（您提供的代碼）
local library = { _Tabs = {}, _Pages = {} }
local services = setmetatable({}, {__index = function(_, k) return game:GetService(k) end})
local ts, uis, players = services.TweenService, services.UserInputService, services.Players
local lp = players.LocalPlayer
local playerGui = lp:WaitForChild("PlayerGui", 15) or game:GetService("CoreGui")

function library:AddDrag(obj)
    local dragging, dragStart, startPos
    obj.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true; dragStart = input.Position; startPos = obj.Position
        end
    end)
    uis.InputChanged:Connect(function(input)
        if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
            local delta = input.Position - dragStart
            obj.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
    uis.InputEnded:Connect(function() dragging = false end)
end

function library.new(name)
    local sg = Instance.new("ScreenGui")
    sg.Name = "GG_Center"
    sg.ResetOnSpawn = false
    sg.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    sg.Parent = playerGui

    local loadFrame = Instance.new("Frame", sg)
    loadFrame.Size = UDim2.new(0, 300, 0, 120)
    loadFrame.Position = UDim2.new(0.5, -150, 0.5, -60)
    loadFrame.BackgroundColor3 = Color3.fromRGB(15, 20, 30)
    Instance.new("UICorner", loadFrame)
    
    local barBg = Instance.new("Frame", loadFrame)
    barBg.Size = UDim2.new(0.8, 0, 0, 8)
    barBg.Position = UDim2.new(0.1, 0, 0.7, 0)
    barBg.BackgroundColor3 = Color3.fromRGB(30, 40, 50)
    
    local bar = Instance.new("Frame", barBg)
    bar.Size = UDim2.new(0, 0, 1, 0)
    bar.BackgroundColor3 = Color3.fromRGB(0, 255, 255)
    Instance.new("UICorner", bar)

    local info = Instance.new("TextLabel", loadFrame)
    info.Size = UDim2.new(1, 0, 0.4, 0)
    info.Text = name .. " Loading..."
    info.TextColor3 = Color3.fromRGB(255, 255, 255)
    info.BackgroundTransparency = 1
    info.Font = Enum.Font.GothamBold

    ts:Create(bar, TweenInfo.new(2, Enum.EasingStyle.Quart), {Size = UDim2.new(1, 0, 1, 0)}):Play()
    task.wait(2.2)
    loadFrame:Destroy()

    local Main = Instance.new("Frame", sg)
    Main.Size = UDim2.new(0, 450, 0, 400)
    Main.Position = UDim2.new(0.5, -225, 0.5, -200)
    Main.BackgroundColor3 = Color3.fromRGB(15, 17, 22)
    Main.Visible = false
    Main.ClipsDescendants = true
    Instance.new("UICorner", Main)
    library:AddDrag(Main)
    library.Main = Main

    local ToggleBtn = Instance.new("TextButton", sg)
    ToggleBtn.Size = UDim2.new(0, 45, 0, 45)
    ToggleBtn.Position = UDim2.new(0, 20, 0, 20)
    ToggleBtn.BackgroundColor3 = Color3.fromRGB(10, 10, 15)
    ToggleBtn.Text = "GG"
    ToggleBtn.TextColor3 = Color3.fromRGB(0, 255, 255)
    ToggleBtn.TextSize = 20
    ToggleBtn.ZIndex = 10
    Instance.new("UICorner", ToggleBtn).CornerRadius = UDim.new(1, 0)
    Instance.new("UIStroke", ToggleBtn).Color = Color3.fromRGB(0, 255, 255)
    library:AddDrag(ToggleBtn)

    task.spawn(function()
        while true do
            if not sg.Parent then break end
            local Ripple = Instance.new("Frame", ToggleBtn)
            Ripple.AnchorPoint = Vector2.new(0.5, 0.5)
            Ripple.Position = UDim2.new(0.5, 0, 0.5, 0)
            Ripple.Size = UDim2.new(1, 0, 1, 0)
            Ripple.BackgroundTransparency = 0.6
            Ripple.BackgroundColor3 = Color3.fromRGB(0, 255, 255)
            Instance.new("UICorner", Ripple).CornerRadius = UDim.new(1, 0)
            ts:Create(Ripple, TweenInfo.new(1.5, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
                Size = UDim2.new(2.5, 0, 2.5, 0),
                BackgroundTransparency = 1
            }):Play()
            task.wait(2)
            if Ripple then Ripple:Destroy() end
        end
    end)

    ToggleBtn.MouseButton1Click:Connect(function()
        if not Main.Visible then
            Main.Size = UDim2.new(0, 450, 0, 0)
            Main.Visible = true
            ts:Create(Main, TweenInfo.new(0.4, Enum.EasingStyle.Quart), {Size = UDim2.new(0, 450, 0, 400)}):Play()
        else
            ts:Create(Main, TweenInfo.new(0.3, Enum.EasingStyle.Quart), {Size = UDim2.new(0, 450, 0, 0)}):Play()
            task.wait(0.3)
            Main.Visible = false
        end
    end)

    return library
end

function library:CreateTab(name)
    local SideBar = self.Main:FindFirstChild("SideBar") or Instance.new("Frame", self.Main)
    
    if SideBar.Name ~= "SideBar" then
        SideBar.Name = "SideBar"
        SideBar.Size = UDim2.new(0, 110, 1, 0)
        SideBar.BackgroundColor3 = Color3.fromRGB(10, 12, 15)
        Instance.new("UICorner", SideBar)
        local layout = Instance.new("UIListLayout", SideBar)
        layout.Padding = UDim.new(0, 5)
        layout.HorizontalAlignment = "Center"
    end

    local ContentPage = Instance.new("ScrollingFrame", self.Main)
    ContentPage.Name = name .. "_Page"
    ContentPage.Size = UDim2.new(1, -125, 1, -20)
    ContentPage.Position = UDim2.new(0, 120, 0, 10)
    ContentPage.BackgroundTransparency = 1
    ContentPage.Visible = false
    ContentPage.ScrollBarThickness = 0
    ContentPage.AutomaticCanvasSize = Enum.AutomaticSize.Y
    
    local pageLayout = Instance.new("UIListLayout", ContentPage)
    pageLayout.Padding = UDim.new(0, 6)

    local TabBtn = Instance.new("TextButton", SideBar)
    TabBtn.Size = UDim2.new(0.9, 0, 0, 35)
    TabBtn.Text = name
    TabBtn.TextColor3 = Color3.fromRGB(150, 150, 150)
    TabBtn.BackgroundTransparency = 1
    TabBtn.Font = Enum.Font.Code

    TabBtn.MouseButton1Click:Connect(function()
        for _, p in pairs(self._Pages) do p.Visible = false end
        ContentPage.Visible = true
    end)

    table.insert(self._Pages, ContentPage)
    
    if #self._Pages == 1 then 
        ContentPage.Visible = true 
    end
    
    return ContentPage
end

-- 創建UI元素的輔助函數
function library:CreateButton(parent, text, callback)
    local btn = Instance.new("TextButton", parent)
    btn.Size = UDim2.new(1, 0, 0, 35)
    btn.Text = text
    btn.BackgroundColor3 = Color3.fromRGB(30, 35, 45)
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.Font = Enum.Font.Gotham
    Instance.new("UICorner", btn)
    
    btn.MouseButton1Click:Connect(callback)
    
    btn.MouseEnter:Connect(function()
        ts:Create(btn, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(40, 45, 55)}):Play()
    end)
    
    btn.MouseLeave:Connect(function()
        ts:Create(btn, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(30, 35, 45)}):Play()
    end)
    
    return btn
end

function library:CreateToggle(parent, text, default, callback)
    local container = Instance.new("Frame", parent)
    container.Size = UDim2.new(1, 0, 0, 30)
    container.BackgroundTransparency = 1
    
    local label = Instance.new("TextLabel", container)
    label.Size = UDim2.new(0.7, 0, 1, 0)
    label.Text = text
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.BackgroundTransparency = 1
    label.Font = Enum.Font.Gotham
    label.TextXAlignment = Enum.TextXAlignment.Left
    
    local toggleFrame = Instance.new("Frame", container)
    toggleFrame.Size = UDim2.new(0, 40, 0, 20)
    toggleFrame.Position = UDim2.new(0.85, -40, 0.5, -10)
    toggleFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    Instance.new("UICorner", toggleFrame).CornerRadius = UDim.new(1, 0)
    
    local toggleCircle = Instance.new("Frame", toggleFrame)
    toggleCircle.Size = UDim2.new(0, 16, 0, 16)
    toggleCircle.Position = UDim2.new(0, 2, 0.5, -8)
    toggleCircle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Instance.new("UICorner", toggleCircle).CornerRadius = UDim.new(1, 0)
    
    local toggled = default or false
    
    local function updateToggle()
        if toggled then
            ts:Create(toggleCircle, TweenInfo.new(0.2), {
                Position = UDim2.new(1, -18, 0.5, -8),
                BackgroundColor3 = Color3.fromRGB(0, 255, 200)
            }):Play()
            ts:Create(toggleFrame, TweenInfo.new(0.2), {
                BackgroundColor3 = Color3.fromRGB(0, 100, 80)
            }):Play()
        else
            ts:Create(toggleCircle, TweenInfo.new(0.2), {
                Position = UDim2.new(0, 2, 0.5, -8),
                BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            }):Play()
            ts:Create(toggleFrame, TweenInfo.new(0.2), {
                BackgroundColor3 = Color3.fromRGB(50, 50, 50)
            }):Play()
        end
        if callback then callback(toggled) end
    end
    
    updateToggle()
    
    toggleFrame.MouseButton1Click:Connect(function()
        toggled = not toggled
        updateToggle()
    end)
    
    return {Container = container, Update = function(state) toggled = state; updateToggle() end}
end

function library:CreateSlider(parent, text, min, max, default, callback)
    local container = Instance.new("Frame", parent)
    container.Size = UDim2.new(1, 0, 0, 50)
    container.BackgroundTransparency = 1
    
    local label = Instance.new("TextLabel", container)
    label.Size = UDim2.new(1, 0, 0, 20)
    label.Text = text .. ": " .. tostring(default)
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.BackgroundTransparency = 1
    label.Font = Enum.Font.Gotham
    label.TextXAlignment = Enum.TextXAlignment.Left
    
    local sliderBg = Instance.new("Frame", container)
    sliderBg.Size = UDim2.new(1, 0, 0, 6)
    sliderBg.Position = UDim2.new(0, 0, 1, -10)
    sliderBg.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
    Instance.new("UICorner", sliderBg).CornerRadius = UDim.new(1, 0)
    
    local sliderFill = Instance.new("Frame", sliderBg)
    sliderFill.Size = UDim2.new((default - min) / (max - min), 0, 1, 0)
    sliderFill.BackgroundColor3 = Color3.fromRGB(0, 255, 200)
    Instance.new("UICorner", sliderFill).CornerRadius = UDim.new(1, 0)
    
    local sliderBtn = Instance.new("TextButton", sliderBg)
    sliderBtn.Size = UDim2.new(0, 16, 0, 16)
    sliderBtn.Position = UDim2.new((default - min) / (max - min), -8, 0.5, -8)
    sliderBtn.Text = ""
    sliderBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Instance.new("UICorner", sliderBtn).CornerRadius = UDim.new(1, 0)
    
    local dragging = false
    
    local function updateSlider(value)
        local percent = math.clamp((value - min) / (max - min), 0, 1)
        sliderFill.Size = UDim2.new(percent, 0, 1, 0)
        sliderBtn.Position = UDim2.new(percent, -8, 0.5, -8)
        label.Text = text .. ": " .. tostring(math.floor(value))
        if callback then callback(value) end
    end
    
    sliderBtn.MouseButton1Down:Connect(function()
        dragging = true
    end)
    
    uis.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local mousePos = uis:GetMouseLocation()
            local sliderPos = sliderBg.AbsolutePosition
            local sliderSize = sliderBg.AbsoluteSize
            local percent = math.clamp((mousePos.X - sliderPos.X) / sliderSize.X, 0, 1)
            local value = min + (max - min) * percent
            value = math.floor(value)
            updateSlider(value)
        end
    end)
    
    uis.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
    
    updateSlider(default)
    
    return container
end

function library:CreateLabel(parent, text)
    local label = Instance.new("TextLabel", parent)
    label.Size = UDim2.new(1, 0, 0, 30)
    label.Text = text
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.BackgroundTransparency = 1
    label.Font = Enum.Font.Gotham
    label.TextXAlignment = Enum.TextXAlignment.Center
    return label
end

function library:CreateTextbox(parent, text, placeholder, callback)
    local container = Instance.new("Frame", parent)
    container.Size = UDim2.new(1, 0, 0, 50)
    container.BackgroundTransparency = 1
    
    local label = Instance.new("TextLabel", container)
    label.Size = UDim2.new(1, 0, 0, 20)
    label.Text = text
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.BackgroundTransparency = 1
    label.Font = Enum.Font.Gotham
    label.TextXAlignment = Enum.TextXAlignment.Left
    
    local textbox = Instance.new("TextBox", container)
    textbox.Size = UDim2.new(1, 0, 0, 30)
    textbox.Position = UDim2.new(0, 0, 0, 20)
    textbox.PlaceholderText = placeholder
    textbox.BackgroundColor3 = Color3.fromRGB(30, 35, 45)
    textbox.TextColor3 = Color3.fromRGB(255, 255, 255)
    textbox.Font = Enum.Font.Gotham
    Instance.new("UICorner", textbox)
    
    textbox.FocusLost:Connect(function()
        if callback then callback(textbox.Text) end
    end)
    
    return textbox
end

-- 創建主窗口
local window = library.new("GG中心")

-- 創建選項卡
local tab1 = window:CreateTab("公告")
local tab2 = window:CreateTab("脚本")
local tab3 = window:CreateTab("秒杀")
local tab4 = window:CreateTab("透视")
local tab5 = window:CreateTab("传送")

-- ============================
-- 原腳本功能開始
-- ============================

-- 1. 公告頁面
library:CreateLabel(tab1, "秦始皇制作")
library:CreateLabel(tab1, "脚本测试中")

-- 2. 脚本頁面 - 视角缩放
window:CreateSlider(tab2, "视角缩放距离", 128, 10000, 128, function(value)
    game:GetService("Players").LocalPlayer.CameraMaxZoomDistance = value
end)

-- 自動V4功能
local autoV4Enabled = false
local autoV4Task = nil

local function callAwakeningRemote()
    local LocalPlayer = game:GetService("Players").LocalPlayer
    local Backpack = LocalPlayer:FindFirstChild("Backpack")
    if not Backpack then return end
    
    local Awakening = Backpack:FindFirstChild("Awakening")
    if not Awakening then return end
    
    local RemoteFunc = Awakening:FindFirstChild("RemoteFunction")
    if not RemoteFunc or not RemoteFunc:IsA("RemoteFunction") then return end
    
    local success, err = pcall(function()
        RemoteFunc:InvokeServer(true)
    end)
    if not success then
        warn("自动v4调用失败：", err)
    end
end

local function toggleAutoV4(enable)
    if autoV4Task then
        task.cancel(autoV4Task)
        autoV4Task = nil
    end
    
    if enable then
        autoV4Task = task.spawn(function()
            while autoV4Enabled do
                callAwakeningRemote()
                task.wait(1) 
            end
            autoV4Task = nil
        end)
    end
end

window:CreateToggle(tab2, "自动v4", false, function(state)
    autoV4Enabled = state
    toggleAutoV4(state)
end)

-- 飛行腳本
window:CreateButton(tab2, "飞行", function()
    -- 這裡添加飛行腳本的實現
    local Players = game:GetService("Players")
    local LocalPlayer = Players.LocalPlayer
    
    local flying = false
    local speed = 50
    
    local function fly()
        local torso = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
        if not torso then return end
        
        local bodyGyro = Instance.new("BodyGyro", torso)
        local bodyVelocity = Instance.new("BodyVelocity", torso)
        
        bodyGyro.P = 9e4
        bodyGyro.maxTorque = Vector3.new(9e9, 9e9, 9e9)
        bodyGyro.cframe = torso.CFrame
        
        bodyVelocity.velocity = Vector3.new(0, 0, 0)
        bodyVelocity.maxForce = Vector3.new(9e9, 9e9, 9e9)
        
        spawn(function()
            repeat wait()
                LocalPlayer.Character.Humanoid.PlatformStand = true
                if torso and bodyVelocity and bodyGyro then
                    local moveDirection = Vector3.new()
                    
                    if uis:IsKeyDown(Enum.KeyCode.W) then
                        moveDirection = moveDirection + Vector3.new(0, 0, -1)
                    end
                    if uis:IsKeyDown(Enum.KeyCode.S) then
                        moveDirection = moveDirection + Vector3.new(0, 0, 1)
                    end
                    if uis:IsKeyDown(Enum.KeyCode.A) then
                        moveDirection = moveDirection + Vector3.new(-1, 0, 0)
                    end
                    if uis:IsKeyDown(Enum.KeyCode.D) then
                        moveDirection = moveDirection + Vector3.new(1, 0, 0)
                    end
                    if uis:IsKeyDown(Enum.KeyCode.Space) then
                        moveDirection = moveDirection + Vector3.new(0, 1, 0)
                    end
                    if uis:IsKeyDown(Enum.KeyCode.LeftShift) then
                        moveDirection = moveDirection + Vector3.new(0, -1, 0)
                    end
                    
                    bodyVelocity.velocity = moveDirection * speed
                    
                    local lookDirection = uis:GetMouseLocation()
                    local ray = workspace.CurrentCamera:ScreenPointToRay(lookDirection.X, lookDirection.Y)
                    local target = ray.Origin + ray.Direction * 1000
                    bodyGyro.cframe = CFrame.new(torso.Position, target)
                end
            until not flying
            
            if torso then
                if bodyGyro then bodyGyro:Destroy() end
                if bodyVelocity then bodyVelocity:Destroy() end
                LocalPlayer.Character.Humanoid.PlatformStand = false
            end
        end)
    end
    
    window:CreateTextbox(tab2, "飞行速度", "输入速度值", function(text)
        local num = tonumber(text)
        if num then
            speed = num
        end
    end)
    
    local flyToggle = window:CreateToggle(tab2, "飞行开关", false, function(state)
        flying = state
        if state and LocalPlayer.Character then
            fly()
        end
    end)
end)

-- 3. 秒杀功能
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

local FastAttackConfig = {
    Enabled = false,
    Distance = 5000,
    AttackDelay = 0.3,
    AttackMobs = true,
    AttackPlayers = true
}

-- 快速攻擊系統
local function FastAttackSystem()
    local success, result = pcall(function()
        -- 檢查必要組件
        local Remotes = ReplicatedStorage:WaitForChild("Remotes", 5)
        local Modules = ReplicatedStorage:WaitForChild("Modules", 5)
        if not Remotes or not Modules then return false end
        
        local Net = Modules:WaitForChild("Net", 5)
        if not Net then return false end
        
        local RegisterAttack = Net:WaitForChild("RE/RegisterAttack", 5)
        local RegisterHit = Net:WaitForChild("RE/RegisterHit", 5)
        if not RegisterAttack or not RegisterHit then return false end
        
        local Enemies = workspace:WaitForChild("Enemies", 5)
        
        return {
            Remotes = Remotes,
            Net = Net,
            RegisterAttack = RegisterAttack,
            RegisterHit = RegisterHit,
            Enemies = Enemies
        }
    end)
    
    return success and result or nil
end

-- 創建秒殺頁面的UI
local attackDistanceSlider = window:CreateSlider(tab3, "攻击范围", 1, 10000, 5000, function(value)
    FastAttackConfig.Distance = value
end)

local attackSpeedSlider = window:CreateSlider(tab3, "攻击速度", 0.01, 2, 0.3, function(value)
    FastAttackConfig.AttackDelay = value
end)

local attackMobsToggle = window:CreateToggle(tab3, "自动打怪", true, function(state)
    FastAttackConfig.AttackMobs = state
end)

local attackPlayersToggle = window:CreateToggle(tab3, "攻击玩家", true, function(state)
    FastAttackConfig.AttackPlayers = state
end)

-- 移速功能
local translateSpeed = 50
local translateAccelEnabled = false
local translateConnection = nil

window:CreateTextbox(tab3, "移动速度", "输入速度值", function(text)
    local num = tonumber(text)
    if num then
        translateSpeed = num
    end
end)

window:CreateToggle(tab3, "移动加速", false, function(state)
    translateAccelEnabled = state
    
    if translateConnection then
        translateConnection:Disconnect()
        translateConnection = nil
    end
    
    if state then
        translateConnection = RunService.Heartbeat:Connect(function()
            if LocalPlayer.Character and 
               LocalPlayer.Character:FindFirstChild("Humanoid") and 
               LocalPlayer.Character.Humanoid then
               
                local humanoid = LocalPlayer.Character.Humanoid
                
                if humanoid.MoveDirection.Magnitude > 0 then
                    local moveDirection = humanoid.MoveDirection
                    local acceleration = moveDirection * translateSpeed / 30
                    
                    LocalPlayer.Character:TranslateBy(acceleration)
                end
            end
        end)
    end
end)

-- 4. 透視功能
local ESPConfig = {
    MainSwitch = false,
    ShowNameDistance = false,
    ShowTracer = false,
    ShowHealth = false
}

local ESPElements = {}

local function CleanupPlayerESP(player)
    if not ESPElements[player.UserId] then return end
    
    if ESPElements[player.UserId].NameHealthESP then
        ESPElements[player.UserId].NameHealthESP:Destroy()
        ESPElements[player.UserId].NameHealthESP = nil
    end
    if ESPElements[player.UserId].Tracer then
        ESPElements[player.UserId].Tracer:Remove()
        ESPElements[player.UserId].Tracer = nil
    end
end

local function UpdateAllESP()
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            CleanupPlayerESP(player)
        end
    end
end

-- 透視開關
window:CreateToggle(tab4, "透视总开关", false, function(state)
    ESPConfig.MainSwitch = state
    UpdateAllESP()
end)

window:CreateToggle(tab4, "显示玩家名字+距离", false, function(state)
    ESPConfig.ShowNameDistance = state
end)

window:CreateToggle(tab4, "显示玩家血量", false, function(state)
    ESPConfig.ShowHealth = state
end)

window:CreateToggle(tab4, "射线追踪（屏幕中心）", false, function(state)
    ESPConfig.ShowTracer = state
end)

-- 5. 傳送功能
window:CreateButton(tab5, "传送至一海", function()
    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("TravelMain")
end)

window:CreateButton(tab5, "传送至二海", function()
    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("TravelDressrosa")
end)

window:CreateButton(tab5, "传送至三海", function()
    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("TravelZou")
end)

-- 二海傳送點
window:CreateButton(tab5, "传送至天鹅的房间", function()
    local targetPosition = Vector3.new(-287.37, 305.81, 592.98)
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(targetPosition)
    end
end)

window:CreateButton(tab5, "传送至豪宅", function()
    local targetPosition = Vector3.new(2286.93, 15.06, 910.51)
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(targetPosition)
    end
end)

window:CreateButton(tab5, "传送至鬼船里", function()
    local targetPosition = Vector3.new(-6501.06, 83.11, -123.52)
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(targetPosition)
    end
end)

window:CreateButton(tab5, "传送至鬼船外", function()
    local targetPosition = Vector3.new(922.78, 123.96, 32842.40)
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(targetPosition)
    end
end)

-- 三海傳送點
window:CreateButton(tab5, "传送至海洋城堡", function()
    local targetPosition = Vector3.new(-12463.60, 376.26, -7566.08)
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(targetPosition)
    end
end)

window:CreateButton(tab5, "传送至海龟豪宅", function()
    local targetPosition = Vector3.new(-5060.41, 316.43, -3192.30)
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(targetPosition)
    end
end)

window:CreateButton(tab5, "传送至司法", function()
    local targetPosition = Vector3.new(-5096.48, 316.43, -3177.91)
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(targetPosition)
    end
end)

window:CreateButton(tab5, "传送至九头蛇", function()
    local targetPosition = Vector3.new(-5027.03, 316.43, -3206.07)
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(targetPosition)
    end
end)

-- 秒殺功能主開關
local fastAttackToggle = window:CreateToggle(tab3, "秒杀开关", false, function(state)
    FastAttackConfig.Enabled = state
    
    if state then
        spawn(function()
            while FastAttackConfig.Enabled do
                task.wait(FastAttackConfig.AttackDelay)
                
                -- 這裡可以添加實際的攻擊邏輯
                if FastAttackConfig.Enabled then
                    -- 模擬攻擊邏輯
                    local components = FastAttackSystem()
                    if components then
                        -- 實際攻擊代碼會在這裡
                        print("執行攻擊，範圍:", FastAttackConfig.Distance, "延遲:", FastAttackConfig.AttackDelay)
                    end
                end
            end
        end)
    end
end)

-- 完成加載
task.wait(1)
print("GG脚本加载完成，祝您使用愉快！")
